â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    KIAAN WMS - RAILWAY ARCHITECTURE                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CURRENT STATE (Frontend Only):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User's    â”‚
â”‚   Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Visit: frontend-production-c9100.up.railway.app
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway: Next.js Frontend  â”‚  âœ… DEPLOYED
â”‚  Port: 3000                 â”‚
â”‚  Status: Active             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ Tries to fetch from: http://localhost:8090/v1/graphql
           â”‚
           â–¼
          âŒ NOT FOUND (localhost doesn't exist on Railway)
           
Result: Pages show "Loading..." forever



TARGET STATE (After Deployment):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User's    â”‚
â”‚   Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€ Visit: frontend-production-c9100.up.railway.app
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Railway: Next.js Frontend                         â”‚
â”‚           Port: 3000                                        â”‚
â”‚           âœ… DEPLOYED                                       â”‚
â”‚                                                             â”‚
â”‚  Environment Variables:                                     â”‚
â”‚  â€¢ NEXT_PUBLIC_GRAPHQL_URL = https://hasura.../v1/graphql  â”‚
â”‚  â€¢ NEXT_PUBLIC_HASURA_ADMIN_SECRET = kiaan_hasura_...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ Fetches data from GraphQL endpoint
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Railway: Hasura GraphQL Engine                    â”‚
â”‚           Docker: hasura/graphql-engine:latest              â”‚
â”‚           ğŸ”„ TO BE DEPLOYED                                 â”‚
â”‚                                                             â”‚
â”‚  Endpoints:                                                 â”‚
â”‚  â€¢ https://[domain]/v1/graphql  (GraphQL API)              â”‚
â”‚  â€¢ https://[domain]/console     (Admin Console)            â”‚
â”‚                                                             â”‚
â”‚  Environment Variables:                                     â”‚
â”‚  â€¢ HASURA_GRAPHQL_DATABASE_URL = ${{Postgres.DATABASE_URL}}â”‚
â”‚  â€¢ HASURA_GRAPHQL_ADMIN_SECRET = kiaan_hasura_admin_...    â”‚
â”‚  â€¢ HASURA_GRAPHQL_ENABLE_CONSOLE = true                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ Queries database via SQL
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Railway: PostgreSQL Database                      â”‚
â”‚           Version: 15.x                                     â”‚
â”‚           ğŸ”„ TO BE DEPLOYED                                 â”‚
â”‚                                                             â”‚
â”‚  Data:                                                      â”‚
â”‚  â€¢ 21 Tables                                               â”‚
â”‚  â€¢ 32 Products                                             â”‚
â”‚  â€¢ 10,707 Inventory Items                                  â”‚
â”‚  â€¢ 30 Sales Orders                                         â”‚
â”‚  â€¢ 5 Purchase Orders                                       â”‚
â”‚                                                             â”‚
â”‚  Source: full_database.sql (214KB)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result: âœ… All pages load REAL DATA from Railway PostgreSQL!


DEPLOYMENT CHECKLIST:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

 [ ] Step 1: Add PostgreSQL to Railway
 [ ] Step 2: Import full_database.sql
 [ ] Step 3: Verify 21 tables exist
 [ ] Step 4: Add Hasura service
 [ ] Step 5: Configure Hasura variables
 [ ] Step 6: Generate Hasura public domain
 [ ] Step 7: Track all 21 tables in Hasura
 [ ] Step 8: Update frontend environment variables
 [ ] Step 9: Test GraphQL endpoint
 [ ] Step 10: Verify frontend shows real data


DATA FLOW AFTER DEPLOYMENT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User â†’ Frontend (Railway) â†’ Hasura (Railway) â†’ PostgreSQL (Railway)
  â†“
Dashboard shows: 
  â€¢ 32 total products
  â€¢ 15 low stock items
  â€¢ 8 pending orders
  â€¢ Recent orders table with real data

Products page shows:
  â€¢ 32 products with SKUs, prices
  â€¢ Brand filters
  â€¢ Stock levels

Inventory page shows:
  â€¢ 10,707 items
  â€¢ Locations and zones
  â€¢ Expiry dates

Orders page shows:
  â€¢ 30 sales orders
  â€¢ Customer details
  â€¢ Order statuses


TIME ESTIMATE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PostgreSQL setup:       2 min
Database import:        5 min
Hasura setup:          3 min
Variable config:       2 min
Domain generation:     1 min
Table tracking:        2 min
Frontend config:       1 min
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:                ~15 min


GUIDE LOCATION:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/root/kiaan-wms/railway-deployment/DEPLOY_NOW.md

